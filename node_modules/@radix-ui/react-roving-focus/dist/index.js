var e,r,t,o=require("@radix-ui/react-use-controllable-state").useControllableState,n=require("@radix-ui/react-use-callback-ref").useCallbackRef,u=require("@radix-ui/react-primitive").Primitive,a=require("@radix-ui/react-id").useId,i=require("@radix-ui/react-context").createContext,c=require("@radix-ui/react-compose-refs").useComposedRefs,s=require("@radix-ui/react-collection").createCollection,l=require("@radix-ui/primitive").composeEventHandlers,f=(e={},r=require("react"),Object.keys(r).forEach((function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return r[t]}})})),e),d=(t=require("@babel/runtime/helpers/extends"))&&t.__esModule?t.default:t;const p={bubbles:!1,cancelable:!0},[v,m,b,g]=s(),w="span",[x,E]=i("RovingFocusGroup"),F=/*#__PURE__*/f.forwardRef(((e,r)=>/*#__PURE__*/f.createElement(v,null,/*#__PURE__*/f.createElement(m,null,/*#__PURE__*/f.createElement(I,d({},e,{ref:r}))))));exports.RovingFocusGroup=F;const I=/*#__PURE__*/f.forwardRef(((e,r)=>{const{as:t=w,orientation:a,dir:i="ltr",loop:s=!1,currentTabStopId:v,defaultCurrentTabStopId:m,onCurrentTabStopIdChange:b,onEntryFocus:E,...F}=e,I=f.useRef(null),R=c(r,I),[h=null,y]=o({prop:v,defaultProp:m,onChange:b}),[A,C]=f.useState(!1),D=n(E),{getItems:q}=g(),S=f.useRef(!1);return f.useEffect((()=>{const e=I.current;if(e)return e.addEventListener("rovingFocusGroup.onEntryFocus",D),()=>e.removeEventListener("rovingFocusGroup.onEntryFocus",D)}),[D]),/*#__PURE__*/f.createElement(x,{orientation:a,dir:i,loop:s,currentTabStopId:h,onItemFocus:f.useCallback((e=>y(e)),[y]),onItemShiftTab:f.useCallback((()=>C(!0)),[])},/*#__PURE__*/f.createElement(u,d({tabIndex:A?-1:0,"aria-orientation":a,"data-orientation":a},F,{as:t,ref:R,style:{outline:"none",...e.style},onMouseDown:l(e.onMouseDown,(()=>{S.current=!0})),onFocus:l(e.onFocus,(e=>{const r=!S.current;if(e.target===e.currentTarget&&r&&!A){const r=new Event("rovingFocusGroup.onEntryFocus",p);if(e.currentTarget.dispatchEvent(r),!r.defaultPrevented){const e=q().filter((e=>e.focusable));T([e.find((e=>e.active)),e.find((e=>e.id===h)),...e].filter(Boolean).map((e=>e.ref.current)))}}S.current=!1})),onBlur:l(e.onBlur,(()=>C(!1)))})))})),R="span",h=/*#__PURE__*/f.forwardRef(((e,r)=>{const{as:t=R,focusable:o=!0,active:n=!1,...i}=e,c=a(),s=E("RovingFocusItem"),p=s.currentTabStopId===c,{getItems:v}=g();/*#__PURE__*/return f.createElement(b,{id:c,focusable:o,active:n},/*#__PURE__*/f.createElement(u,d({tabIndex:p?0:-1,"data-orientation":s.orientation},i,{as:t,ref:r,onMouseDown:l(e.onMouseDown,(e=>{o?s.onItemFocus(c):e.preventDefault()})),onFocus:l(e.onFocus,(()=>s.onItemFocus(c))),onKeyDown:l(e.onKeyDown,(e=>{if("Tab"===e.key&&e.shiftKey)return void s.onItemShiftTab();if(e.target!==e.currentTarget)return;const r=function(e,r,t){const o=function(e,r){return"rtl"!==r?e:"ArrowLeft"===e?"ArrowRight":"ArrowRight"===e?"ArrowLeft":e}(e.key,t);return"vertical"===r&&["ArrowLeft","ArrowRight"].includes(o)||"horizontal"===r&&["ArrowUp","ArrowDown"].includes(o)?void 0:y[o]}(e,s.orientation,s.dir);if(void 0!==r){e.preventDefault();let n=v().filter((e=>e.focusable)).map((e=>e.ref.current));if("last"===r)n.reverse();else if("prev"===r||"next"===r){"prev"===r&&n.reverse();const u=n.indexOf(e.currentTarget);n=s.loop?(o=u+1,(t=n).map(((e,r)=>t[(o+r)%t.length]))):n.slice(u+1)}setTimeout((()=>T(n)))}var t,o}))})))}));exports.RovingFocusItem=h;const y={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function T(e){const r=document.activeElement;for(const t of e){if(t===r)return;if(t.focus(),document.activeElement!==r)return}}const A=F;exports.Root=A;const C=h;exports.Item=C;
//# sourceMappingURL=index.js.map
