import{hideOthers as e}from"aria-hidden";import{RemoveScroll as o}from"react-remove-scroll";import{useId as r}from"@radix-ui/react-id";import{Slot as t}from"@radix-ui/react-slot";import{Primitive as n,extendPrimitive as a}from"@radix-ui/react-primitive";import{Presence as s}from"@radix-ui/react-presence";import{useFocusGuards as c}from"@radix-ui/react-focus-guards";import{Portal as u}from"@radix-ui/react-portal";import{FocusScope as i}from"@radix-ui/react-focus-scope";import{DismissableLayer as l}from"@radix-ui/react-dismissable-layer";import*as p from"@radix-ui/react-popper";import{useControllableState as d}from"@radix-ui/react-use-controllable-state";import{createContext as m}from"@radix-ui/react-context";import{useComposedRefs as f}from"@radix-ui/react-compose-refs";import{composeEventHandlers as v}from"@radix-ui/primitive";import*as g from"react";import C from"@babel/runtime/helpers/esm/extends";const[P,x]=m("Popover");export const Popover=e=>{const{children:o,open:t,defaultOpen:n,onOpenChange:a,modal:s=!1}=e,c=g.useRef(null),[u,i]=g.useState(!1),[l=!1,m]=d({prop:t,defaultProp:n,onChange:a});/*#__PURE__*/return g.createElement(p.Root,null,/*#__PURE__*/g.createElement(P,{contentId:r(),triggerRef:c,open:l,onOpenChange:m,onOpenToggle:g.useCallback((()=>m((e=>!e))),[m]),hasCustomAnchor:u,onCustomAnchorAdd:g.useCallback((()=>i(!0)),[]),onCustomAnchorRemove:g.useCallback((()=>i(!1)),[]),modal:s},o))};/*#__PURE__*/export const PopoverAnchor=/*#__PURE__*/g.forwardRef(((e,o)=>{const r=x("PopoverAnchor"),{onCustomAnchorAdd:t,onCustomAnchorRemove:n}=r;return g.useEffect((()=>(t(),()=>n())),[t,n]),/*#__PURE__*/g.createElement(p.Anchor,C({},e,{ref:o}))}));/*#__PURE__*/const A="button";export const PopoverTrigger=/*#__PURE__*/g.forwardRef(((e,o)=>{const{as:r=A,...a}=e,s=x("PopoverTrigger"),c=f(o,s.triggerRef),u=/*#__PURE__*/g.createElement(n,C({type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":F(s.open)},a,{as:r,ref:c,onClick:v(e.onClick,s.onOpenToggle)}));return s.hasCustomAnchor?u:/*#__PURE__*/g.createElement(p.Anchor,{as:t},u)}));/*#__PURE__*/export const PopoverContent=/*#__PURE__*/g.forwardRef(((e,o)=>{const{forceMount:r,...t}=e,n=x("PopoverContent");/*#__PURE__*/return g.createElement(s,{present:r||n.open},n.modal?/*#__PURE__*/g.createElement(E,C({},t,{ref:o})):/*#__PURE__*/g.createElement(h,C({},t,{ref:o})))}));/*#__PURE__*/const E=/*#__PURE__*/g.forwardRef(((r,t)=>{const{portalled:n=!0,...a}=r,s=x("PopoverContent"),c=g.useRef(null),i=f(t,c),l=g.useRef(!1);g.useEffect((()=>{const o=c.current;if(o)return e(o)}),[]);const p=n?u:g.Fragment;/*#__PURE__*/return g.createElement(p,null,/*#__PURE__*/g.createElement(o,null,/*#__PURE__*/g.createElement(O,C({},a,{ref:i,trapFocus:s.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:v(r.onCloseAutoFocus,(e=>{var o;e.preventDefault(),l.current||null===(o=s.triggerRef.current)||void 0===o||o.focus()})),onPointerDownOutside:v(r.onPointerDownOutside,(e=>{const o=e.detail.originalEvent,r=0===o.button&&!0===o.ctrlKey,t=2===o.button||r;l.current=t}),{checkForDefaultPrevented:!1}),onFocusOutside:v(r.onFocusOutside,(e=>e.preventDefault()),{checkForDefaultPrevented:!1})}))))})),h=/*#__PURE__*/g.forwardRef(((e,o)=>{const{portalled:r=!0,...t}=e,n=x("PopoverContent"),a=g.useRef(!1),s=r?u:g.Fragment;/*#__PURE__*/return g.createElement(s,null,/*#__PURE__*/g.createElement(O,C({},t,{ref:o,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var r,t;(null===(r=e.onCloseAutoFocus)||void 0===r||r.call(e,o),o.defaultPrevented)||(a.current||null===(t=n.triggerRef.current)||void 0===t||t.focus(),o.preventDefault());a.current=!1},onInteractOutside:o=>{var r,t;null===(r=e.onInteractOutside)||void 0===r||r.call(e,o),o.defaultPrevented||(a.current=!0);const s=o.target;(null===(t=n.triggerRef.current)||void 0===t?void 0:t.contains(s))&&o.preventDefault()}})))})),O=/*#__PURE__*/g.forwardRef(((e,o)=>{const{trapFocus:r,onOpenAutoFocus:n,onCloseAutoFocus:a,disableOutsidePointerEvents:s,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:m,onInteractOutside:f,...v}=e,P=x("PopoverContent");return c(),/*#__PURE__*/g.createElement(i,{as:t,loop:!0,trapped:r,onMountAutoFocus:n,onUnmountAutoFocus:a},/*#__PURE__*/g.createElement(l,{as:t,disableOutsidePointerEvents:s,onInteractOutside:f,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:m,onDismiss:()=>P.onOpenChange(!1)},/*#__PURE__*/g.createElement(p.Content,C({"data-state":F(P.open),role:"dialog",id:P.contentId},v,{ref:o,style:{...v.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)"}}))))})),R="button";export const PopoverClose=/*#__PURE__*/g.forwardRef(((e,o)=>{const{as:r=R,...t}=e,a=x("PopoverClose");/*#__PURE__*/return g.createElement(n,C({type:"button"},t,{as:r,ref:o,onClick:v(e.onClick,(()=>a.onOpenChange(!1)))}))}));/*#__PURE__*/export const PopoverArrow=a(p.Arrow,{displayName:"PopoverArrow"});function F(e){return e?"open":"closed"}export const Root=Popover;export const Anchor=PopoverAnchor;export const Trigger=PopoverTrigger;export const Content=PopoverContent;export const Close=PopoverClose;export const Arrow=PopoverArrow;
//# sourceMappingURL=index.module.js.map
