{"mappings":"0EAUA,MAAMA,EAAmC,CACvCC,OAAQC,KAAKC,MAAsB,KAAhBD,KAAKE,UACxBC,QAAS,GAGLC,eAAYC,EAAMC,cAA8BR,UAEtD,MAAMS,WAAwBC,IAC5B,MAAMC,EAAiBJ,EAAMK,WAAWN,GAClCO,EAAmBF,IAAmBX,EACtCc,EAA0BP,EAAMQ,SACpC,KAAA,CACEd,OAAQY,EAAmB,IAAMF,EAAeV,OAChDI,QAAS,KAEX,CAACQ,EAAkBF,iBAGrB,OAAOK,EAAAC,cAACC,EAAUC,SAAXC,EAAA,CAAoBC,MAAOP,GAAaJ,YAGjD,SAASY,MAAMC,GACb,MAAMT,EAAUP,EAAMK,WAAWN,GASjC,OARkBkB,QAAO,OAACC,iBAAD,IAACA,gBAAD,EAACA,WAAYC,WAEpBZ,IAAYd,GAC5B2B,QAAQC,KACN,kJAIGrB,EAAMQ,SACX,IAAMQ,GAAoB,YAAWT,EAAQb,YAAYa,EAAQT,WAEjE,CAACkB","sources":["./packages/react/id/src/id.tsx"],"sourcesContent":["// This implementation is heavily inspired by react-aria's implementation\n// See: https://github.com/adobe/react-spectrum/blob/main/packages/%40react-aria/ssr/src/SSRProvider.tsx\n\nimport * as React from 'react';\n\ntype IdContextValue = {\n  prefix: number;\n  current: number;\n};\n\nconst defaultIdContext: IdContextValue = {\n  prefix: Math.round(Math.random() * 10000000000),\n  current: 0,\n};\n\nconst IdContext = React.createContext<IdContextValue>(defaultIdContext);\n\nconst IdProvider: React.FC = (props) => {\n  const currentContext = React.useContext(IdContext);\n  const isRootIdProvider = currentContext === defaultIdContext;\n  const context: IdContextValue = React.useMemo(\n    () => ({\n      prefix: isRootIdProvider ? 0 : ++currentContext.prefix,\n      current: 0,\n    }),\n    [isRootIdProvider, currentContext]\n  );\n\n  return <IdContext.Provider value={context} {...props} />;\n};\n\nfunction useId(deterministicId?: string): string {\n  const context = React.useContext(IdContext);\n  const isBrowser = Boolean(globalThis?.document);\n\n  if (!isBrowser && context === defaultIdContext) {\n    console.warn(\n      'When server rendering, you must wrap your application in an <IdProvider> to ensure consistent ids are generated between the client and server.'\n    );\n  }\n\n  return React.useMemo(\n    () => deterministicId || `radix-id-${context.prefix}-${++context.current}`,\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [deterministicId]\n  );\n}\n\nexport { IdProvider, useId };\n"],"names":["defaultIdContext","prefix","Math","round","random","current","IdContext","React","createContext","IdProvider","props","currentContext","useContext","isRootIdProvider","context","useMemo","_react","createElement","$ae65c4aca36d67ac05042d6e17501$var$IdContext","Provider","_babelRuntimeHelpersEsmExtends","value","useId","deterministicId","Boolean","globalThis","document","console","warn"],"version":3,"file":"index.module.js.map"}